<%- include('../includes/head.ejs') %>
</head>

<body>
    <%- include('../includes/navigation.ejs') %>
    <!-- Page Wrapper -->
<div style="background: url(images/bgimg.jpg)" class="page-holder bg-cover">
    
    <!-- HEADER START -->
    <div class="container py-5">
        <header class="text-center text-white">
            <h1 class="display-4 font-weight-bold mb-4 page-titles">Reset Password</h1>
        </header>
        <!-- HEADER END -->

        <!-- MAIN CONTENT START -->
        <main div class="text-white vh-auto background-transparency">
            <% if (errorMessage) { %>
                <div class="lead text-center">
                    <p class="notice-text-fail"><%= errorMessage%></p>
                </div>
            <% } %>
            <% if (successMessage) { %>
                <div class="lead text-center">
                    <p class="notice-text-success"><%= successMessage%></p>
                </div>
            <% } %>

            <div class="container-fluid">
                <div class="row">
                    <!-- Col 1 -->
                    <div class="col-6">
                        <p class="lead">RESET PASSWORD</p>

                        <form action="/api/user/reset-new-password" method="POST" class="needs-validation" novalidate>

                            <!-- PASSWORD -->
                            <div class="form-group">
                                <label for="password">Password</label>
                                <input type="password" name="password" id="password" class="form-control" placeholder="Enter new password">
                                <div class="valid-feedback">Valid.</div>
                                <div class="invalid-feedback">Please fill out this field.</div>
                            </div>

                            <!-- CONFIRM PASSWORD -->
                            <div class="form-group">
                                <label for="confirm_password">Confirm Password</label>
                                <input type="password" name="confirm_password" id="confirm_password" class="form-control" placeholder="Confirm new password">
                                <div class="valid-feedback">Valid.</div>
                                <div class="invalid-feedback">Please fill out this field.</div>
                            </div>

                            <!-- SET NEW PASSWORD -->
                            <div class="form-group">
                                <input type="hidden" name="userId" value="<%= userId %>">
                                <input type="hidden" name="passToken" value="<%= passToken %>">
                                <button type="submit" class="btn btn-success">Set new Password</button>
                            </div>
                        </form>
                    </div>

                    <!-- Col 2 -->
                    <div class="col-6">
                        <p class="lead">
                            A problem with resetting password? Contact Admin Team<u><a href="mailto: admin@traffle.com">here</a></u>.
                        </p>
                    </div>
                </div>
            </div>

    </div>
    </main>
    <!-- MAIN CONTENT END -->
    <%- include('../includes/end.ejs') %>
</div>
</body>